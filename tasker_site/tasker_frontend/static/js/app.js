(function(e){function t(t){for(var a,s,o=t[0],c=t[1],l=t[2],d=0,v=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&v.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1bb8":function(e,t,n){},2468:function(e,t,n){},"2abd":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("my-container")],1)},i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list-item",[n("v-list-item-content",[e.user.firstname?n("v-list-item-title",{staticClass:"title"},[e._v(" "+e._s(e.user.firstname)+"'s Projects ")]):n("v-list-item-title",[e._v(" "+e._s(e.user.username)+"'s Projects ")]),n("v-list-item-subtitle",[e._v(e._s(e.user.username)+", You're awesome! ")])],1)],1),n("v-divider"),n("v-list",{attrs:{nav:""}},e._l(e.projects,(function(t){return n("v-list-item",{key:t.title,attrs:{link:""}},[n("v-list-item-content",{on:{click:function(n){return e.projectItemSelected(t)}}},[n("v-list-item-title",[e._v(" "+e._s(t.title)+" ")]),n("v-list-item-subtitle",[e._v(" "+e._s(t.team.name)+" ")])],1)],1)})),1)],1),n("v-app-bar",{attrs:{app:"",color:"blue accent-1"}},[n("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),n("v-toolbar-title",[e._v("Tasker Projects")]),n("v-spacer"),n("v-menu",{attrs:{left:"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",r,!1),a),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}])},[n("v-list",[n("v-list-item",{on:{click:e.goToAccountSetting}},[n("v-list-item-title",[e._v(" Account ")])],1),n("v-list-item",{on:{click:e.logout}},[n("v-list-item-title",[e._v(" Logout ")])],1)],1)],1)],1),n("v-main",[e.hasSelected?n("div",[n("div",{staticClass:"debug"},[n("p")]),n("v-container",[n("h1",[e._v(e._s(e.selectedProject.title))])]),n("team-container",{attrs:{team:e.selectedProject.team}}),n("v-divider"),n("members",{attrs:{members:e.selectedProject.team.members}}),n("v-divider"),n("lists-container",{attrs:{taskList:e.selectedProject.tasklistSet}}),n("v-divider"),n("log-container")],1):e._e()])],1)},o=[],c=n("1da1"),l=(n("96cf"),n("99af"),n("d3b7"),n("a78e")),u=n.n(l),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"company-container"},[n("img",{staticClass:"rounded-circle",attrs:{src:e.handleImage,alt:"company image"}}),n("div",{staticClass:"desc"},[n("h3",[e._v(e._s(e.team.name))]),n("h5",{attrs:{id:"description"}},[e._v(e._s(e.team.description))])])])},v=[],m=void 0,p={props:{team:Object},computed:{handleImage:function(){try{return m.team.image}catch(e){return console.log("".concat(e," file: TeamContainer 21:9")),"https://reactnativecode.com/wp-content/uploads/2018/02/Default_Image_Thumbnail.png"}}}},f=p,h=(n("b666"),n("2877")),b=Object(h["a"])(f,d,v,!1,null,"fe11e6b4",null),g=b.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("div",{attrs:{id:"container"}},e._l(e.members,(function(t,a){return n("div",{key:a,staticClass:"user-container"},[void 0!==t.image?n("img",{staticClass:"userImage",attrs:{src:t.image}}):n("img",{staticClass:"userImage",attrs:{src:"https://randomuser.me/api/portraits/lego/1.jpg"}}),n("h6",[e._v(e._s(t.firstName))]),n("h6",[e._v(e._s(t.lastName))])])})),0)])},_=[],w={methods:{},props:{members:Array}},y=w,j=(n("57a8"),n("6544")),x=n.n(j),T=n("a523"),V=Object(h["a"])(y,k,_,!1,null,"5c12a609",null),C=V.exports;x()(V,{VContainer:T["a"]});var S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e._l(e.taskList,(function(e){return n("div",{key:e.id,staticClass:"card-container"},[n("list-card",{attrs:{task:e}})],1)})),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.visible,expression:"!visible"}]},[n("v-card",{staticClass:"card-container",attrs:{outlined:"",color:"accent"}},[n("v-responsive",{attrs:{"min-width":"300","min-height":"300"}},[n("div",{attrs:{id:"my-container",primary:""}},[n("v-btn",{attrs:{icon:"","x-large":"",outlined:"",color:"primary"},on:{click:function(t){return e.addNewTask()}}},[n("v-icon",[e._v("mdi-plus")])],1)],1)])],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],attrs:{id:"newTaskList"}},[n("v-card",{staticClass:"card-container"},[n("v-responsive",{attrs:{"min-width":"300"}},[n("v-container",[n("v-card-text",[e._v("New Task")]),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{rules:e.myRules,label:"Task Title"}}),n("v-text-field",{attrs:{rules:e.myRules,label:"Description..."}})],1),n("v-btn",{attrs:{block:"",color:"primary"}},[e._v("Create")]),n("v-btn",{staticClass:"mt-5",attrs:{block:"",color:"red"},on:{click:function(t){return e.cancel()}}},[e._v("Cancel")])],1)],1)],1)],1)],1)],2)},O=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{elevation:"3",color:"accent"}},[n("v-responsive",{attrs:{"min-width":"300","max-width":"300"}},[n("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[n("v-toolbar-title",[n("strong",[e._v(e._s(e.taskData.title))])]),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-dots-vertical")])],1)],1),n("v-card-subtitle",[e._v(e._s(e.taskData.description))]),n("v-card-text",[n("div",e._l(e.taskData.tasklistitemSet,(function(t,a){return n("v-container",{key:a},[n("v-card",{class:t.finished?"fnshd":"",attrs:{elevation:"2",m:"3"},on:{dblclick:function(t){return e.toggleFinished(a)}}},[n("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[n("v-toolbar-title",[e._v(e._s(t.title))]),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[e._v("mdi-dots-vertical")])],1)],1),n("v-card-text",[e._v(e._s(t.description))])],1)],1)})),1),n("v-form",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}]},[n("v-text-field",{attrs:{placeholder:"Add Item...",id:"newItemField"}},[n("v-icon",{attrs:{slot:"append"},on:{click:e.clear},slot:"append"},[e._v("mdi-close")])],1)],1),n("v-btn",{attrs:{block:"",color:"primary"},on:{click:e.addNew}},[e._v(" Add new + ")])],1)],1)],1)},I=[],q={props:{task:Object},data:function(){return{taskData:Object,visible:!1}},methods:{toggleFinished:function(e){var t=this.taskData.tasklistitemSet[e].finished;this.taskData.tasklistitemSet[e].finished=!t},clear:function(){var e=document.getElementById("newItemField");e.value=""},addNew:function(){this.visible=!this.visible}},created:function(){this.taskData=this.task}},N=q,D=(n("8082"),n("40dc")),L=n("8336"),A=n("b0af"),R=n("99d9"),B=n("4bd4"),M=n("132d"),U=n("6b53"),E=n("2fa4"),F=n("8654"),$=n("2a7f"),J=Object(h["a"])(N,P,I,!1,null,"23c98888",null),z=J.exports;x()(J,{VAppBar:D["a"],VBtn:L["a"],VCard:A["a"],VCardSubtitle:R["a"],VCardText:R["b"],VContainer:T["a"],VForm:B["a"],VIcon:M["a"],VResponsive:U["a"],VSpacer:E["a"],VTextField:F["a"],VToolbarTitle:$["a"]});var W={api:"http://localhost:8000/graphql",projects:null,methods:{},selectedProject:null},Y=W,G={components:{ListCard:z},props:{taskList:Array},data:function(){return{myRules:[function(e){return!!e||"Required."},function(e){return e&&e.length>=3||"Min 3 characters"}],visible:!1}},methods:{addNewTask:function(){var e=null;try{e=Y.selectedProject,console.log(e)}catch(t){console.log(t)}this.visible=!this.visible},cancel:function(){this.visible=!this.visible}}},H=G,K=(n("f5f0"),Object(h["a"])(H,S,O,!1,null,"3eab1d5d",null)),Q=K.exports;x()(K,{VBtn:L["a"],VCard:A["a"],VCardText:R["b"],VContainer:T["a"],VForm:B["a"],VIcon:M["a"],VResponsive:U["a"],VTextField:F["a"]});var X=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t,n,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-Type":"application/json",authorization:"JWT ".concat(a)},body:JSON.stringify({query:"\n        query {\n          projectsByUser(pk: ".concat(n,' token: "').concat(a,'") {\n            id\n            title\n            description\n            team {\n              id \n              email\n              name\n              description\n              projectSet { id }\n              members { id username firstName lastName }\n            }\n            creationDate\n            tasklistSet {\n              id\n              title\n              description\n              tasklistitemSet {\n                id\n                title\n                description\n                creationDate\n                dueDate\n                finished\n              }\n            }\n            logSet {\n              id\n              title\n              description\n              creator { id username }\n              project { id title }\n              creationDate\n            }\n          }\n        }\n      ')})});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("p",[e._v("Lorem ipsum dolor sit amet consectetur adipisicing elit. Totam odit maiores nesciunt dolor rerum et quia, sint iusto nihil ea corrupti officiis, ducimus enim dolorem sit ad porro numquam voluptates voluptatem incidunt quisquam accusantium cum dolore. Consequuntur temporibus accusamus aspernatur rerum et. Debitis aliquid velit eligendi ipsam repudiandae nisi necessitatibus, nam qui earum, recusandae repellendus quaerat voluptatibus, reiciendis harum quidem quas delectus ad. Modi ipsum quidem omnis, ipsa facilis dolorum at vitae, ad ab a voluptatibus consequatur. Consequatur cum, repellendus exercitationem placeat, dolorem accusamus praesentium nihil eum temporibus adipisci quas, sit expedita. Blanditiis, eius odio veniam accusamus ut eveniet nostrum.")])])},ee=[],te={},ne=te,ae=Object(h["a"])(ne,Z,ee,!1,null,null,null),re=ae.exports;x()(ae,{VContainer:T["a"]});var ie={components:{TeamContainer:g,Members:C,ListsContainer:Q,LogContainer:re},data:function(){return{shared:Y,serverUrl:"".concat(window.location.protocol,"//").concat(window.location.hostname,":8000/graphql"),drawer:!0,projects:[],right:null,user:{username:"",fistname:"",lastname:"",token:"",refreshToken:"",pk:0},selectedProject:null,hasSelected:!1}},methods:{projectItemSelected:function(e){Y.selectedProject=e,this.selectedProject=Y.selectedProject,this.hasSelected=!this.hasSelected},getUserData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.serverUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'\n                mutation {\n                  verifyToken(token: "'.concat(e.user.token,'") { payload }\n                }\n              ')})});case 3:return n=t.sent,t.next=6,n.json();case 6:return a=t.sent,t.next=9,a.data.verifyToken.payload;case 9:return r=t.sent,i=r.username,t.next=13,fetch(e.serverUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:'\n                query {\n                  users(username: "'.concat(i,'"){\n                    edges{\n                      node{\n                        lastName\n                        firstName\n                        pk\n                        username\n                      }\n                    }\n                  }\n                }\n              ')})});case 13:return s=t.sent,t.next=16,s.json();case 16:o=t.sent,c=o.data.users.edges[0].node,e.user.username=i,e.user.fistname=c.firstName,e.user.lastname=c.lastName,e.user.pk=c.pk,e.getProjects(),t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](0),alert("An error occured please login again"),window.location="/login";case 29:case"end":return t.stop()}}),t,null,[[0,25]])})))()},getProjects:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X(Y.api,e.user.pk,e.user.token);case 2:return n=t.sent,t.next=5,n.data.projectsByUser;case 5:return Y.projects=t.sent,t.next=8,Y.projects;case 8:e.projects=t.sent;case 9:case"end":return t.stop()}}),t)})))()},getUserTokens:function(){var e=u.a.get("remember");e?(this.user.token=u.a.get("auth_token"),this.user.refreshToken=u.a.get("refresh_token")):!1===e&&(this.user.token=sessionStorage.getItem("auth_token"),this.user.refreshToken=sessionStorage.getItem("refresh_token"))},logout:function(){confirm("are you sure to logout?")&&(u.a.remove("auth_token"),sessionStorage.removeItem("auth_token"),u.a.remove("refresh_token"),sessionStorage.removeItem("refresh_token"),window.location="/login")},goToAccountSetting:function(){window.location="/account-settings"}},created:function(){this.getUserTokens(),this.getUserData()}},se=ie,oe=(n("f376"),n("7496")),ce=n("5bc1"),le=n("ce7e"),ue=n("8860"),de=n("da13"),ve=n("5d23"),me=n("f6c4"),pe=n("e449"),fe=n("f774"),he=Object(h["a"])(se,s,o,!1,null,"26ad2c28",null),be=he.exports;x()(he,{VApp:oe["a"],VAppBar:D["a"],VAppBarNavIcon:ce["a"],VBtn:L["a"],VContainer:T["a"],VDivider:le["a"],VIcon:M["a"],VList:ue["a"],VListItem:de["a"],VListItemContent:ve["a"],VListItemSubtitle:ve["b"],VListItemTitle:ve["c"],VMain:me["a"],VMenu:pe["a"],VNavigationDrawer:fe["a"],VSpacer:E["a"],VToolbarTitle:$["a"]});var ge={name:"App",components:{MyContainer:be},data:function(){return{}}},ke=ge,_e=Object(h["a"])(ke,r,i,!1,null,null,null),we=_e.exports,ye=n("f309");a["a"].use(ye["a"]);var je=new ye["a"]({});a["a"].config.productionTip=!1,new a["a"]({vuetify:je,render:function(e){return e(we)}}).$mount("#app")},"57a8":function(e,t,n){"use strict";n("1bb8")},8082:function(e,t,n){"use strict";n("2abd")},a85a:function(e,t,n){},b3a8:function(e,t,n){},b666:function(e,t,n){"use strict";n("a85a")},f376:function(e,t,n){"use strict";n("b3a8")},f5f0:function(e,t,n){"use strict";n("2468")}});
//# sourceMappingURL=app.js.map